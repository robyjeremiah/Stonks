{% extends 'base.html' %}
{% block stylesheet %}<link rel="stylesheet" type="text/css" href="/static/adminHome.css" />{% endblock %}
{% load static %}
{% block content %}

<h1>Welcome Administrator</h1>
<div class="fields">
    <div class="adduserbox">
        <form method="POST">
            {% csrf_token %}
            <p>First Name:</p>
            {{ form.first_name }}
            <p>Last Name:</p>
            {{ form.last_name }}
            <p>Email:</p>
            {{ form.email }}
            <p>Date of Birth:</p>
            {{ form.dob }}
            <p>Role:</p>
            <select id="role" name="role">
                {% for group in group_list %}
                <option value="{{group.name}}">{{ group.name }}</option>
                {% endfor %}
            </select>
            <p>Password:</p>
            {{ form.password1 }}
            <p>Confirm Password:</p>
            {{ form.password2 }}
            <div class="required" style="display:none">
                <p>Passwords must contain the following:</p>
                <ul>
                    <li id='capital' class="invalid">Start with a letter</li>
                    <li id='length' class="invalid">At least 8 characters</li>
                    <li id='mixed' class="invalid">At least one letter, number, and special character each</li>
                </ul>
            </div>
            <br>
            <input type="submit" id="submit" name="Submit" value="ADD USER">
        </form>
    </div>
    <table class="usertable">
        <thead>
            <tr>
                <td>User</td>
                <td>Role</td>
                <td>Status</td>
                <td></td>
                <td></td>
            </tr>
        </thead>
        <tbody>
            {% if user_list and group_list %}
                {% for user in user_list %}
                <tr>
                    <td id='username' name='username'>{{ user.username }}</td>
                    <td>
                        <select id="changerole" name="changerole">
                            {% for group in group_list %}
                            <option value="group.id">{{ group.name }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td><input type="checkbox" id="status" name="status" value="{{user.is_active}}" {% if user.is_active == 1 %}checked{% endif %}><label for="status"> Active</label></td>
                    <td><a href="#">edit</a></td>
                    <td><a href="{%url 'delete_user' pk=user.pk %}">delete</a></td>
                </tr>
                {% endfor %}
            {% endif %}
        </tbody>
    </table>
</div>

{% endblock %}